name: ğŸ¤ Welcome New Contributor (v1.1 Fixed)

on:
  pull_request:
    types: [opened, reopened, synchronize]

permissions:
  pull-requests: write

jobs:
  welcome:
    runs-on: ubuntu-latest
    steps:
      - name: ğŸ§© Checkout repository
        uses: actions/checkout@v4

      - name: ğŸ¤– Post welcome comment
        uses: peter-evans/create-or-update-comment@v3
        with:
          token: ${{ secrets.GITHUB_TOKEN }}
          issue-number: ${{ github.event.pull_request.number }}
          body: |
            ğŸ‘‹ **Welcome to the R3C Project!**

            Thanks for opening your first Pull Request, @${{ github.actor }} ğŸ‰  
            R3C is an **autonomous build & self-healing compiler system** â€” and every contribution helps it evolve.

            **Next Steps**
            - âœ… Ensure your PR passes the [CI build](https://github.com/${{ github.repository }}/actions)
            - ğŸ§  Read the [Contributor Guide](https://github.com/${{ github.repository }}/blob/main/CONTRIBUTING.md)
            - ğŸ§¾ Check the [Growth Roadmap v6](https://github.com/${{ github.repository }}/blob/main/docs/roadmap_v6.md)
            - ğŸª² Learn the philosophy: [`docs/philosophy.md`](https://github.com/${{ github.repository }}/blob/main/docs/philosophy.md)

            Once merged, youâ€™ll appear in **Top Contributors ğŸ…** automatically.  
            Thanks for joining the R3C ecosystem ğŸš€

  os-check:
    name: ğŸ§  Runner OS Check
    runs-on: ubuntu-latest
    steps:
      - name: ğŸ” Detect current OS
        shell: bash
        run: |
          echo "Current runner OS: $RUNNER_OS"
          if [ "$RUNNER_OS" = "Linux" ]; then
            echo "âœ… Linux environment detected"
          elif [ "$RUNNER_OS" = "Windows" ]; then
            echo "âœ… Windows environment detected"
          elif [ "$RUNNER_OS" = "macOS" ]; then
            echo "âœ… macOS environment detected"
          else
            echo "âš ï¸ Unknown environment"
          fi
